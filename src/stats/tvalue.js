/* eslint-disable max-lines */
// Retrieve t-value, using t-distribution, two-tailed, with 95% confidence
// interval.
export const getTvalue = function (length) {
  const degreesOfFreedom = length - 1

  if (degreesOfFreedom >= T_VALUES.length) {
    return MIN_T_VALUE
  }

  return T_VALUES[degreesOfFreedom - 1]
}

const MIN_T_VALUE = 1.96

// We hardcode first t-values because computing them is quite complex.
// Beyond a specific size, they converge to `MIN_T_VALUE` with a very minor
// difference.
/* eslint-disable no-magic-numbers */
const T_VALUES = [
  12.7065,
  4.3026,
  3.1824,
  2.7764,
  2.5706,
  2.4469,
  2.3646,
  2.306,
  2.2621,
  2.2282,
  2.201,
  2.1788,
  2.1604,
  2.1448,
  2.1314,
  2.1199,
  2.1098,
  2.1009,
  2.093,
  2.086,
  2.0796,
  2.0739,
  2.0686,
  2.0639,
  2.0596,
  2.0555,
  2.0518,
  2.0484,
  2.0452,
  2.0423,
  2.0395,
  2.0369,
  2.0345,
  2.0322,
  2.0301,
  2.0281,
  2.0262,
  2.0244,
  2.0227,
  2.0211,
  2.0196,
  2.0181,
  2.0167,
  2.0154,
  2.0141,
  2.0129,
  2.0117,
  2.0106,
  2.0096,
  2.0086,
  2.0076,
  2.0066,
  2.0057,
  2.0049,
  2.0041,
  2.0032,
  2.0025,
  2.0017,
  2.001,
  2.0003,
  1.9996,
  1.999,
  1.9983,
  1.9977,
  1.9971,
  1.9966,
  1.996,
  1.9955,
  1.995,
  1.9944,
  1.9939,
  1.9935,
  1.993,
  1.9925,
  1.9921,
  1.9917,
  1.9913,
  1.9909,
  1.9904,
  1.9901,
  1.9897,
  1.9893,
  1.9889,
  1.9886,
  1.9883,
  1.9879,
  1.9876,
  1.9873,
  1.987,
  1.9867,
  1.9864,
  1.9861,
  1.9858,
  1.9855,
  1.9852,
  1.985,
  1.9847,
  1.9845,
  1.9842,
  1.984,
  1.9837,
  1.9835,
  1.9833,
  1.983,
  1.9828,
  1.9826,
  1.9824,
  1.9822,
  1.982,
  1.9818,
  1.9816,
  1.9814,
  1.9812,
  1.981,
  1.9808,
  1.9806,
  1.9805,
  1.9803,
  1.9801,
  1.9799,
  1.9798,
  1.9796,
  1.9794,
  1.9793,
  1.9791,
  1.979,
  1.9788,
  1.9787,
  1.9785,
  1.9784,
  1.9782,
  1.9781,
  1.9779,
  1.9778,
  1.9777,
  1.9776,
  1.9774,
  1.9773,
  1.9772,
  1.9771,
  1.9769,
  1.9768,
  1.9767,
  1.9766,
  1.9765,
  1.9764,
  1.9762,
  1.9761,
  1.976,
  1.9759,
  1.9758,
  1.9757,
  1.9756,
  1.9755,
  1.9754,
  1.9753,
  1.9752,
  1.9751,
  1.975,
  1.9749,
  1.9748,
  1.9747,
  1.9746,
  1.9745,
  1.9744,
  1.9744,
  1.9743,
  1.9742,
  1.9741,
  1.974,
  1.9739,
  1.9739,
  1.9738,
  1.9737,
  1.9736,
  1.9735,
  1.9735,
  1.9734,
  1.9733,
  1.9732,
  1.9731,
  1.9731,
  1.973,
  1.9729,
  1.9729,
  1.9728,
  1.9727,
  1.9727,
  1.9726,
  1.9725,
  1.9725,
  1.9724,
  1.9723,
  1.9723,
  1.9722,
  1.9721,
  1.9721,
  1.972,
  1.972,
  1.9719,
]
/* eslint-enable no-magic-numbers */
/* eslint-enable max-lines */
